{"version":3,"sources":["/home/karthik/cynapseTech/src/main/webapp/app/shared/language/translate.directive.ts"],"names":[],"mappings":"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","sourcesContent":["import { Input, Directive, ElementRef, OnChanges, OnInit, OnDestroy } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport { translationNotFoundMessage } from 'app/config/translation.config';\n\n/**\n * A wrapper directive on top of the translate pipe as the inbuilt translate directive from ngx-translate is too verbose and buggy\n */\n@Directive({\n  selector: '[jhiTranslate]',\n})\nexport class TranslateDirective implements OnChanges, OnInit, OnDestroy {\n  @Input() jhiTranslate!: string;\n  @Input() translateValues?: { [key: string]: unknown };\n\n  private readonly directiveDestroyed = new Subject<never>();\n\n  constructor(private el: ElementRef, private translateService: TranslateService) {}\n\n  ngOnInit(): void {\n    this.translateService.onLangChange.pipe(takeUntil(this.directiveDestroyed)).subscribe(() => {\n      this.getTranslation();\n    });\n  }\n\n  ngOnChanges(): void {\n    this.getTranslation();\n  }\n\n  ngOnDestroy(): void {\n    this.directiveDestroyed.next();\n    this.directiveDestroyed.complete();\n  }\n\n  private getTranslation(): void {\n    this.translateService\n      .get(this.jhiTranslate, this.translateValues)\n      .pipe(takeUntil(this.directiveDestroyed))\n      .subscribe(\n        value => {\n          this.el.nativeElement.innerHTML = value;\n        },\n        () => `${translationNotFoundMessage}[${this.jhiTranslate}]`\n      );\n  }\n}\n"]}